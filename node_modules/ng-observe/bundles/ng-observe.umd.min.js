!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports,require("@angular/core"),require("rxjs")):"function"==typeof define&&define.amd?define("ng-observe",["exports","@angular/core","rxjs"],n):n((e="undefined"!=typeof globalThis?globalThis:e||self)["ng-observe"]={},e.ng.core,e.rxjs)}(this,(function(e,n,t){"use strict";var r=new n.InjectionToken("HASH_FN",{providedIn:"root",factory:f}),o="__ngObserve__",i=function(){function e(e,t,r){var i=this;this.cdRef=e,this.hash=t,this.hooks=new Map,this.detectChanges=function(){return i.cdRef.detectChanges()},this.collection=function(e,n){void 0===n&&(n={});var t=Array.isArray(e)?[]:{};Object.defineProperty(t,o,{value:!0,enumerable:!1,writable:!1});var r=i.observe(t);return Object.keys(e).forEach((function(t){var o=e[t],i=n[t];r(t,o,i)})),t},this.value=function(e,n){var t={};return i.observe(t)("value",e,n),d(t,"value")},r instanceof n.NgZone&&(this.detectChanges=function(){return i.cdRef.markForCheck()})}return e.prototype.createUniqueId=function(e){try{throw new Error}catch(n){return String(this.hash(n.stack+String(e)))}},e.prototype.observe=function(e){var n=this;return function(r,o,i){var u=void 0===i?{}:i,c=u.uniqueId,a=void 0===c?n.createUniqueId(r):c,s=u.errorHandler,f=void 0===s?function(){}:s,h=new t.Subscription,d=function(){},v=function(){(n.hooks.get(a)||d)(),n.hooks.delete(a)};v(),n.hooks.set(a,(function(){return h.unsubscribe()})),h=o.subscribe({next:function(t){e[r]=t,n.detectChanges()},error:f,complete:v})}},e.prototype.ngOnDestroy=function(){this.hooks.forEach((function(e){return e()}))},e}();i.decorators=[{type:n.Injectable}],i.ctorParameters=function(){return[{type:n.ChangeDetectorRef},{type:void 0,decorators:[{type:n.Inject,args:[r]}]},{type:n.NgZone,decorators:[{type:n.Optional}]}]};var u=new n.InjectionToken("OBSERVE"),c=[i,{provide:u,useFactory:a,deps:[i]}];function a(e){return function(n,r){return t.isObservable(n)?e.value(n,r):e.collection(n,r)}}var s=function(){function e(e,n){var t=this;this.seed=e,this.getter=function(){return n(t.seed)}}return Object.defineProperty(e.prototype,"value",{get:function(){return this.getter()},enumerable:!1,configurable:!0}),e}();function f(){var e=2654435761,n=Math.imul?function(n){return Math.imul(n,e)}:function(n){return h(n,e)};return function(e){for(var t=e.length,r=2880293630;t--;)r=n(r^e.charCodeAt(t));return(r^r>>>16)>>>0}}function h(e,n){var t=(4194303&e)*(n|=0);return 4290772992&e&&(t+=(4290772992&e)*n|0),0|t}function d(e,n){return new s(e,(function(e){return e[n]}))}e.HASH_FN=r,e.OBSERVE=u,e.OBSERVE_PROVIDER=c,e.ObserveService=i,e.Observed=s,e.createHashFn=f,e.imul=h,e.isCollection=function(e){return Boolean(e&&e[o])},e.observeFactory=a,e.toMappedValue=function(e,n){return new s(e,n)},e.toValue=d,e.toValues=function(e){if(Array.isArray(e))return e.map((function(n,t){return new s(e,(function(e){return e[t]}))}));var n={},t=function(t){e.hasOwnProperty(t)&&(n[t]=new s(e,(function(e){return e[t]})))};for(var r in e)t(r);return n},Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=ng-observe.umd.min.js.map