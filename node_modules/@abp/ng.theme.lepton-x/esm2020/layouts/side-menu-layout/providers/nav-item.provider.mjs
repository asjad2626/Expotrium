import { APP_INITIALIZER, Injector } from '@angular/core';
import { NavItemsService } from '@abp/ng.theme.shared';
import { LanguageSelectionComponent } from '../components/language-selection/language-selection.component';
import { UserProfileComponent } from '../components/user-profile/user-profile.component';
import { OAuthService } from 'angular-oauth2-oidc';
import { NavigateToLoginComponent } from '../components';
export const NAV_ITEM_PROVIDER = {
    provide: APP_INITIALIZER,
    multi: true,
    useFactory: addNavItems,
    deps: [Injector],
};
export function addNavItems(injector) {
    return () => {
        const navItems = injector.get(NavItemsService);
        const oAuthService = injector.get(OAuthService);
        navItems.addItems([
            {
                id: "Theme.LoginComponent" /* eThemeLeptonXComponents.Login */,
                order: 100,
                visible: () => !oAuthService.hasValidAccessToken(),
                component: NavigateToLoginComponent,
            },
            {
                id: "Theme.LanguagesComponent" /* eThemeLeptonXComponents.Languages */,
                order: 100,
                component: LanguageSelectionComponent,
            },
            {
                id: "Theme.CurrentUserComponent" /* eThemeLeptonXComponents.CurrentUser */,
                order: 100,
                component: UserProfileComponent,
            },
        ]);
    };
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibmF2LWl0ZW0ucHJvdmlkZXIuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi8uLi8uLi9saWJzL2FicC1sZXB0b24teC9sYXlvdXRzL3NyYy9zaWRlLW1lbnUtbGF5b3V0L3Byb3ZpZGVycy9uYXYtaXRlbS5wcm92aWRlci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsZUFBZSxFQUFFLFFBQVEsRUFBWSxNQUFNLGVBQWUsQ0FBQztBQUNwRSxPQUFPLEVBQUUsZUFBZSxFQUFFLE1BQU0sc0JBQXNCLENBQUM7QUFFdkQsT0FBTyxFQUFFLDBCQUEwQixFQUFFLE1BQU0sK0RBQStELENBQUM7QUFDM0csT0FBTyxFQUFFLG9CQUFvQixFQUFFLE1BQU0sbURBQW1ELENBQUM7QUFDekYsT0FBTyxFQUFFLFlBQVksRUFBRSxNQUFNLHFCQUFxQixDQUFDO0FBQ25ELE9BQU8sRUFBRSx3QkFBd0IsRUFBRSxNQUFNLGVBQWUsQ0FBQztBQUV6RCxNQUFNLENBQUMsTUFBTSxpQkFBaUIsR0FBYTtJQUN6QyxPQUFPLEVBQUUsZUFBZTtJQUN4QixLQUFLLEVBQUUsSUFBSTtJQUNYLFVBQVUsRUFBRSxXQUFXO0lBQ3ZCLElBQUksRUFBRSxDQUFDLFFBQVEsQ0FBQztDQUNqQixDQUFDO0FBRUYsTUFBTSxVQUFVLFdBQVcsQ0FBQyxRQUFrQjtJQUM1QyxPQUFPLEdBQUcsRUFBRTtRQUNWLE1BQU0sUUFBUSxHQUFHLFFBQVEsQ0FBQyxHQUFHLENBQUMsZUFBZSxDQUFDLENBQUM7UUFDL0MsTUFBTSxZQUFZLEdBQUcsUUFBUSxDQUFDLEdBQUcsQ0FBQyxZQUFZLENBQUMsQ0FBQztRQUNoRCxRQUFRLENBQUMsUUFBUSxDQUFDO1lBQ2hCO2dCQUNFLEVBQUUsNERBQStCO2dCQUNqQyxLQUFLLEVBQUUsR0FBRztnQkFDVixPQUFPLEVBQUUsR0FBRyxFQUFFLENBQUMsQ0FBQyxZQUFZLENBQUMsbUJBQW1CLEVBQUU7Z0JBQ2xELFNBQVMsRUFBRSx3QkFBd0I7YUFDcEM7WUFDRDtnQkFDRSxFQUFFLG9FQUFtQztnQkFDckMsS0FBSyxFQUFFLEdBQUc7Z0JBQ1YsU0FBUyxFQUFFLDBCQUEwQjthQUN0QztZQUNEO2dCQUNFLEVBQUUsd0VBQXFDO2dCQUN2QyxLQUFLLEVBQUUsR0FBRztnQkFDVixTQUFTLEVBQUUsb0JBQW9CO2FBQ2hDO1NBQ0YsQ0FBQyxDQUFDO0lBQ0wsQ0FBQyxDQUFDO0FBQ0osQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFQUF9JTklUSUFMSVpFUiwgSW5qZWN0b3IsIFByb3ZpZGVyIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XHJcbmltcG9ydCB7IE5hdkl0ZW1zU2VydmljZSB9IGZyb20gJ0BhYnAvbmcudGhlbWUuc2hhcmVkJztcclxuaW1wb3J0IHsgZVRoZW1lTGVwdG9uWENvbXBvbmVudHMgfSBmcm9tICdAYWJwL25nLnRoZW1lLmxlcHRvbi14JztcclxuaW1wb3J0IHsgTGFuZ3VhZ2VTZWxlY3Rpb25Db21wb25lbnQgfSBmcm9tICcuLi9jb21wb25lbnRzL2xhbmd1YWdlLXNlbGVjdGlvbi9sYW5ndWFnZS1zZWxlY3Rpb24uY29tcG9uZW50JztcclxuaW1wb3J0IHsgVXNlclByb2ZpbGVDb21wb25lbnQgfSBmcm9tICcuLi9jb21wb25lbnRzL3VzZXItcHJvZmlsZS91c2VyLXByb2ZpbGUuY29tcG9uZW50JztcclxuaW1wb3J0IHsgT0F1dGhTZXJ2aWNlIH0gZnJvbSAnYW5ndWxhci1vYXV0aDItb2lkYyc7XHJcbmltcG9ydCB7IE5hdmlnYXRlVG9Mb2dpbkNvbXBvbmVudCB9IGZyb20gJy4uL2NvbXBvbmVudHMnO1xyXG5cclxuZXhwb3J0IGNvbnN0IE5BVl9JVEVNX1BST1ZJREVSOiBQcm92aWRlciA9IHtcclxuICBwcm92aWRlOiBBUFBfSU5JVElBTElaRVIsXHJcbiAgbXVsdGk6IHRydWUsXHJcbiAgdXNlRmFjdG9yeTogYWRkTmF2SXRlbXMsXHJcbiAgZGVwczogW0luamVjdG9yXSxcclxufTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBhZGROYXZJdGVtcyhpbmplY3RvcjogSW5qZWN0b3IpIHtcclxuICByZXR1cm4gKCkgPT4ge1xyXG4gICAgY29uc3QgbmF2SXRlbXMgPSBpbmplY3Rvci5nZXQoTmF2SXRlbXNTZXJ2aWNlKTtcclxuICAgIGNvbnN0IG9BdXRoU2VydmljZSA9IGluamVjdG9yLmdldChPQXV0aFNlcnZpY2UpO1xyXG4gICAgbmF2SXRlbXMuYWRkSXRlbXMoW1xyXG4gICAgICB7XHJcbiAgICAgICAgaWQ6IGVUaGVtZUxlcHRvblhDb21wb25lbnRzLkxvZ2luLFxyXG4gICAgICAgIG9yZGVyOiAxMDAsXHJcbiAgICAgICAgdmlzaWJsZTogKCkgPT4gIW9BdXRoU2VydmljZS5oYXNWYWxpZEFjY2Vzc1Rva2VuKCksXHJcbiAgICAgICAgY29tcG9uZW50OiBOYXZpZ2F0ZVRvTG9naW5Db21wb25lbnQsXHJcbiAgICAgIH0sXHJcbiAgICAgIHtcclxuICAgICAgICBpZDogZVRoZW1lTGVwdG9uWENvbXBvbmVudHMuTGFuZ3VhZ2VzLFxyXG4gICAgICAgIG9yZGVyOiAxMDAsXHJcbiAgICAgICAgY29tcG9uZW50OiBMYW5ndWFnZVNlbGVjdGlvbkNvbXBvbmVudCxcclxuICAgICAgfSxcclxuICAgICAge1xyXG4gICAgICAgIGlkOiBlVGhlbWVMZXB0b25YQ29tcG9uZW50cy5DdXJyZW50VXNlcixcclxuICAgICAgICBvcmRlcjogMTAwLFxyXG4gICAgICAgIGNvbXBvbmVudDogVXNlclByb2ZpbGVDb21wb25lbnQsXHJcbiAgICAgIH0sXHJcbiAgICBdKTtcclxuICB9O1xyXG59XHJcbiJdfQ==