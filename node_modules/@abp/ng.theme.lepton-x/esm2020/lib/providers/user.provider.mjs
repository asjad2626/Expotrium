import { APP_INITIALIZER, Injector } from '@angular/core';
import { AbpUserProfileService } from '../services/user-profile.service';
export const LPX_USER_PROVIDER = {
    provide: APP_INITIALIZER,
    multi: true,
    deps: [Injector],
    useFactory: initUser,
};
function initUser(injector) {
    const userProfile = injector.get(AbpUserProfileService);
    return () => {
        userProfile.subscribeUser();
    };
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidXNlci5wcm92aWRlci5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uL2xpYnMvYWJwLWxlcHRvbi14L3NyYy9saWIvcHJvdmlkZXJzL3VzZXIucHJvdmlkZXIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLGVBQWUsRUFBRSxRQUFRLEVBQUUsTUFBTSxlQUFlLENBQUM7QUFDMUQsT0FBTyxFQUFFLHFCQUFxQixFQUFFLE1BQU0sa0NBQWtDLENBQUM7QUFFekUsTUFBTSxDQUFDLE1BQU0saUJBQWlCLEdBQUc7SUFDL0IsT0FBTyxFQUFFLGVBQWU7SUFDeEIsS0FBSyxFQUFFLElBQUk7SUFDWCxJQUFJLEVBQUUsQ0FBQyxRQUFRLENBQUM7SUFDaEIsVUFBVSxFQUFFLFFBQVE7Q0FDckIsQ0FBQztBQUVGLFNBQVMsUUFBUSxDQUFDLFFBQWtCO0lBQ2xDLE1BQU0sV0FBVyxHQUFHLFFBQVEsQ0FBQyxHQUFHLENBQUMscUJBQXFCLENBQUMsQ0FBQztJQUN4RCxPQUFPLEdBQUcsRUFBRTtRQUNWLFdBQVcsQ0FBQyxhQUFhLEVBQUUsQ0FBQztJQUM5QixDQUFDLENBQUM7QUFDSixDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQVBQX0lOSVRJQUxJWkVSLCBJbmplY3RvciB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xyXG5pbXBvcnQgeyBBYnBVc2VyUHJvZmlsZVNlcnZpY2UgfSBmcm9tICcuLi9zZXJ2aWNlcy91c2VyLXByb2ZpbGUuc2VydmljZSc7XHJcblxyXG5leHBvcnQgY29uc3QgTFBYX1VTRVJfUFJPVklERVIgPSB7XHJcbiAgcHJvdmlkZTogQVBQX0lOSVRJQUxJWkVSLFxyXG4gIG11bHRpOiB0cnVlLFxyXG4gIGRlcHM6IFtJbmplY3Rvcl0sXHJcbiAgdXNlRmFjdG9yeTogaW5pdFVzZXIsXHJcbn07XHJcblxyXG5mdW5jdGlvbiBpbml0VXNlcihpbmplY3RvcjogSW5qZWN0b3IpIHtcclxuICBjb25zdCB1c2VyUHJvZmlsZSA9IGluamVjdG9yLmdldChBYnBVc2VyUHJvZmlsZVNlcnZpY2UpO1xyXG4gIHJldHVybiAoKSA9PiB7XHJcbiAgICB1c2VyUHJvZmlsZS5zdWJzY3JpYmVVc2VyKCk7XHJcbiAgfTtcclxufVxyXG4iXX0=