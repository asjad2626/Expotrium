import { Pipe, } from '@angular/core';
import { EXTENSIONS_ACTION_CALLBACK, EXTENSIONS_ACTION_DATA } from '../tokens/extensions.token';
import * as i0 from "@angular/core";
export class CreateInjectorPipe {
    transform(_, action, context) {
        const get = (token, notFoundValue, options) => {
            const componentData = context.getData();
            const componentDataCallback = data => {
                data = data ?? context.getData();
                return action.action(data);
            };
            let extensionData;
            switch (token) {
                case EXTENSIONS_ACTION_DATA:
                    extensionData = componentData;
                    break;
                case EXTENSIONS_ACTION_CALLBACK:
                    extensionData = componentDataCallback;
                    break;
                default:
                    extensionData = context.getInjected.call(context.injector, token, notFoundValue, options);
            }
            return extensionData;
        };
        return { get };
    }
}
CreateInjectorPipe.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "15.0.3", ngImport: i0, type: CreateInjectorPipe, deps: [], target: i0.ɵɵFactoryTarget.Pipe });
CreateInjectorPipe.ɵpipe = i0.ɵɵngDeclarePipe({ minVersion: "14.0.0", version: "15.0.3", ngImport: i0, type: CreateInjectorPipe, name: "createInjector" });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "15.0.3", ngImport: i0, type: CreateInjectorPipe, decorators: [{
            type: Pipe,
            args: [{
                    name: 'createInjector',
                }]
        }] });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY3JlYXRlLWluamVjdG9yLnBpcGUuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi8uLi8uLi9wYWNrYWdlcy90aGVtZS1zaGFyZWQvZXh0ZW5zaW9ucy9zcmMvbGliL3BpcGVzL2NyZWF0ZS1pbmplY3Rvci5waXBlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFLTCxJQUFJLEdBR0wsTUFBTSxlQUFlLENBQUM7QUFFdkIsT0FBTyxFQUFFLDBCQUEwQixFQUFFLHNCQUFzQixFQUFFLE1BQU0sNEJBQTRCLENBQUM7O0FBS2hHLE1BQU0sT0FBTyxrQkFBa0I7SUFDdEIsU0FBUyxDQUNkLENBQU0sRUFDTixNQUEyQixFQUMzQixPQUFpQztRQUVqQyxNQUFNLEdBQUcsR0FBRyxDQUNWLEtBQWtDLEVBQ2xDLGFBQWlCLEVBQ2pCLE9BQXFDLEVBQ3JDLEVBQUU7WUFDRixNQUFNLGFBQWEsR0FBRyxPQUFPLENBQUMsT0FBTyxFQUFFLENBQUM7WUFDeEMsTUFBTSxxQkFBcUIsR0FBRyxJQUFJLENBQUMsRUFBRTtnQkFDbkMsSUFBSSxHQUFHLElBQUksSUFBSSxPQUFPLENBQUMsT0FBTyxFQUFFLENBQUM7Z0JBQ2pDLE9BQU8sTUFBTSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQztZQUM3QixDQUFDLENBQUM7WUFDRixJQUFJLGFBQWEsQ0FBQztZQUNsQixRQUFRLEtBQUssRUFBRTtnQkFDYixLQUFLLHNCQUFzQjtvQkFDekIsYUFBYSxHQUFHLGFBQWEsQ0FBQztvQkFDOUIsTUFBTTtnQkFDUixLQUFLLDBCQUEwQjtvQkFDN0IsYUFBYSxHQUFHLHFCQUFxQixDQUFDO29CQUN0QyxNQUFNO2dCQUNSO29CQUNFLGFBQWEsR0FBRyxPQUFPLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsUUFBUSxFQUFFLEtBQUssRUFBRSxhQUFhLEVBQUUsT0FBTyxDQUFDLENBQUM7YUFDN0Y7WUFDRCxPQUFPLGFBQWEsQ0FBQztRQUN2QixDQUFDLENBQUM7UUFDRixPQUFPLEVBQUUsR0FBRyxFQUFFLENBQUM7SUFDakIsQ0FBQzs7K0dBOUJVLGtCQUFrQjs2R0FBbEIsa0JBQWtCOzJGQUFsQixrQkFBa0I7a0JBSDlCLElBQUk7bUJBQUM7b0JBQ0osSUFBSSxFQUFFLGdCQUFnQjtpQkFDdkIiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xyXG4gIEluamVjdEZsYWdzLFxyXG4gIEluamVjdGlvblRva2VuLFxyXG4gIEluamVjdE9wdGlvbnMsXHJcbiAgSW5qZWN0b3IsXHJcbiAgUGlwZSxcclxuICBQaXBlVHJhbnNmb3JtLFxyXG4gIFR5cGUsXHJcbn0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XHJcbmltcG9ydCB7IEhhc0NyZWF0ZUluamVjdG9yUGlwZSwgVG9vbGJhckNvbXBvbmVudCB9IGZyb20gJy4uL21vZGVscy90b29sYmFyLWFjdGlvbnMnO1xyXG5pbXBvcnQgeyBFWFRFTlNJT05TX0FDVElPTl9DQUxMQkFDSywgRVhURU5TSU9OU19BQ1RJT05fREFUQSB9IGZyb20gJy4uL3Rva2Vucy9leHRlbnNpb25zLnRva2VuJztcclxuXHJcbkBQaXBlKHtcclxuICBuYW1lOiAnY3JlYXRlSW5qZWN0b3InLFxyXG59KVxyXG5leHBvcnQgY2xhc3MgQ3JlYXRlSW5qZWN0b3JQaXBlPFI+IGltcGxlbWVudHMgUGlwZVRyYW5zZm9ybSB7XHJcbiAgcHVibGljIHRyYW5zZm9ybShcclxuICAgIF86IGFueSxcclxuICAgIGFjdGlvbjogVG9vbGJhckNvbXBvbmVudDxSPixcclxuICAgIGNvbnRleHQ6IEhhc0NyZWF0ZUluamVjdG9yUGlwZTxSPixcclxuICApOiBJbmplY3RvciB7XHJcbiAgICBjb25zdCBnZXQgPSA8VD4oXHJcbiAgICAgIHRva2VuOiBUeXBlPFQ+IHwgSW5qZWN0aW9uVG9rZW48VD4sXHJcbiAgICAgIG5vdEZvdW5kVmFsdWU/OiBULFxyXG4gICAgICBvcHRpb25zPzogSW5qZWN0T3B0aW9ucyB8IEluamVjdEZsYWdzLFxyXG4gICAgKSA9PiB7XHJcbiAgICAgIGNvbnN0IGNvbXBvbmVudERhdGEgPSBjb250ZXh0LmdldERhdGEoKTtcclxuICAgICAgY29uc3QgY29tcG9uZW50RGF0YUNhbGxiYWNrID0gZGF0YSA9PiB7XHJcbiAgICAgICAgZGF0YSA9IGRhdGEgPz8gY29udGV4dC5nZXREYXRhKCk7XHJcbiAgICAgICAgcmV0dXJuIGFjdGlvbi5hY3Rpb24oZGF0YSk7XHJcbiAgICAgIH07XHJcbiAgICAgIGxldCBleHRlbnNpb25EYXRhO1xyXG4gICAgICBzd2l0Y2ggKHRva2VuKSB7XHJcbiAgICAgICAgY2FzZSBFWFRFTlNJT05TX0FDVElPTl9EQVRBOlxyXG4gICAgICAgICAgZXh0ZW5zaW9uRGF0YSA9IGNvbXBvbmVudERhdGE7XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgICBjYXNlIEVYVEVOU0lPTlNfQUNUSU9OX0NBTExCQUNLOlxyXG4gICAgICAgICAgZXh0ZW5zaW9uRGF0YSA9IGNvbXBvbmVudERhdGFDYWxsYmFjaztcclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICBleHRlbnNpb25EYXRhID0gY29udGV4dC5nZXRJbmplY3RlZC5jYWxsKGNvbnRleHQuaW5qZWN0b3IsIHRva2VuLCBub3RGb3VuZFZhbHVlLCBvcHRpb25zKTtcclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gZXh0ZW5zaW9uRGF0YTtcclxuICAgIH07XHJcbiAgICByZXR1cm4geyBnZXQgfTtcclxuICB9XHJcbn1cclxuIl19