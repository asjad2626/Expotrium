"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.isBooleanStringOrNumberLiteral = exports.getAssignedPropertyFromObjectliteral = exports.findEnvironmentExpression = void 0;
const ts = require("typescript");
const ast_utils_1 = require("./angular/ast-utils");
function findEnvironmentExpression(source) {
    const expressions = (0, ast_utils_1.findNodes)(source, ts.isObjectLiteralExpression);
    return expressions.find(expr => expr.getText().includes('production'));
}
exports.findEnvironmentExpression = findEnvironmentExpression;
function getAssignedPropertyFromObjectliteral(expression, variableSelector) {
    const expressions = (0, ast_utils_1.findNodes)(expression, isBooleanStringOrNumberLiteral);
    const literal = expressions.find(node => Boolean(variableSelector.reduceRight((acc, key) => acc?.name?.getText() === key ? acc.parent.parent : undefined, node.parent)));
    return literal ? literal.getText() : undefined;
}
exports.getAssignedPropertyFromObjectliteral = getAssignedPropertyFromObjectliteral;
function isBooleanStringOrNumberLiteral(node) {
    return (ts.isStringLiteral(node) ||
        ts.isNumericLiteral(node) ||
        node.kind === ts.SyntaxKind.TrueKeyword ||
        node.kind === ts.SyntaxKind.FalseKeyword);
}
exports.isBooleanStringOrNumberLiteral = isBooleanStringOrNumberLiteral;
//# sourceMappingURL=ast.js.map